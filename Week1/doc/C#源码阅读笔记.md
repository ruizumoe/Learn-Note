# 源码分析

## 底层实现

**动态数据**

ArrayList：
+ Object类型的动态数组，因此其不需要定义存储数据的类型，但每次存储都需要装箱
+ Arraylist是一个类，其内部有一个Object[] 类型的成员变量存储数组元素。


**链表**

LinkedList: 

+ 使用了一个环形双向链表，每个节点包括了其前驱和后继，以及所在链表的信息
+ 每个链表包含了头节点的位置，其尾节点为头节点的前驱

## 初始化和扩容方法

**设置初始值并两倍扩容**

ArrayList
+ 初始容量是4，如果容量不够时采用两倍扩容
+ 生成一段新的空间，然后将原内容复制到新的空间

**不需要扩容**
LinkedList
+ 初始为空链表，添加节点则是修改每个节点对应的前驱和后继
+ 向空链表添加数据时，前驱和后继指向自己


## 插入数据方法

**插入末端和随机插入**

ArrayList
+ 有两种插入数据的方式，`Add`方法会默认插入到存储空间末尾；`Insert`方法可以选择要插入的位置
+ `Insert`方法插入数据会将从指定位置的数据依次向后移动

LinkedList
+ 分为插入到指定节点前和插入到队首和队尾
+ 插入到指定位置前，需要首先确定指定节点，然后修改两个节点分别的前驱和后继
    >插入队首则是指定节点为首节点，而插入队尾则是插入到首节点之前（**不修改首节点的指示标记**）


## 移除数据

**覆盖数据**
ArrayList:
+ 从后往前将需要被移除的数据覆盖

**移除数据**
LinkedList
+ 修改后继节点和前驱节点对应的内容

